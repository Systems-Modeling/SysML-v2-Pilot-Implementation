# Kernel configuration
These resources were originally produced by the [Jupyter Installer Gradle plugin](https://github.com/SpencerPark/Jupyter-kernel-installer-gradle/tree/master).

The `kernel.json` contains some configuration options for the kernel like the display name, name of the language and the java arguments needed to launch the kernel.

[src/main/resources/sysml/kernel.json](src/main/resources/sysml/kernel.json)

## Adding new python arguments

In order to add Python arguments for the application installer, you need to modify the install script. This script will be packaged into the final `.zip`.

In the [src/main/resources/install.py](src/main/resources/install.py) look for the section:

```python
#SECTION START
#This section was generated by the jupyter-kernel-installer plugin

#alias definitions
ALIASES = {
    "ISYSML_LIBRARY_PATH": {
    },
    "ISYSML_API_BASE_PATH": {
    },
    "ISYSML_GRAPHVIZ_PATH": {
    },   
}

#aliasing of program arguments. Used in the SysMLKernel.java
#constant for the java implementation can be found in the IsysML.java
NAME_MAP = {
    "library-path": "ISYSML_LIBRARY_PATH",
    "api-base-path": "ISYSML_API_BASE_PATH",
    "graphviz-path": "ISYSML_GRAPHVIZ_PATH",
    
}
#SECTION END
```

Add an alias to the ALIASES map. Leave the object empty.
Map the new argument name to the alias in the NAME_MAP.

The `--user`, `--sys-prefix`, `--prefix`, `--replace` arguments are reserved.


Next you need to add the argument to the parser.

Look for the section:

```python
#SECTION START
#This section was generated by the jupyter-kernel-installer plugin from the configuration

#     kernelParameters {
#        list('library-path', 'ISYSML_LIBRARY_PATH') {
#            separator = PATH_SEPARATOR
#            description = '''A file path separator delimited list of library path entries that should be available to the user code. **Important:** no matter what OS, this should use forward slash "/" as the file separator.'''
#        }
#        string('api-base-path', 'ISYSML_API_BASE_PATH') {
#            description = '''The base path for the API that the model is published to using the %publish magic command.'''
#        }
#        string('graphviz-path', 'ISYSML_GRAPHVIZ_PATH') {
#            description = '''The path to the Graphviz dot executable that is used for the %viz magic command.'''
#        }
#    }
#
    parser.add_argument(
        "--library-path",
        dest="env",
        action=EnvVar,
        aliases=ALIASES,
        name_map=NAME_MAP,
        help="A file path separator delimited list of library path entries that should be available to the user code. **Important:** no matter what OS, this should use forward slash \"/\" as the file separator.",
        type=type_assertion("library-path", str),
        list_sep=os.pathsep,
    )
#...    
#SECTION END      
```

Copy one of the lines like above, and modify the relevant parts.
